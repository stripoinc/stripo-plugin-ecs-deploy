# Redis configuration for Stripo Plugin ECS
redis_version: "6.2"
redis_user: redis
redis_group: redis
redis_home: /var/lib/redis
redis_config_dir: /etc/redis
redis_log_dir: /var/log/redis

# Network settings
redis_port: 6379
redis_bind: "0.0.0.0"
redis_maxmemory: "512mb"
redis_maxmemory_policy: "allkeys-lru"
redis_timeout: 300
redis_tcp_keepalive: 300

# Persistence settings
redis_save_intervals:
  - [900, 1]
  - [300, 10]
  - [60, 10000]
redis_appendonly: "yes"
redis_appendfsync: "everysec"

# Logging
redis_loglevel: "notice"
redis_logfile: "/var/log/redis/redis-server.log"

# Security and performance
redis_protected_mode: "no"
redis_tcp_backlog: 511
redis_requirepass: "{{ redis_password }}"

# Additional settings
redis_databases: 16
redis_stop_writes_on_bgsave_error: "yes"
redis_rdb_compression: "yes"
redis_rdb_checksum: "yes" 